{% extends "base.html" %} {% block content %}

<section class="card">
  <h2>Niveau de COâ‚‚</h2>
  <div class="value-wrapper">
    <span id="value" class="value">---</span>
    <svg id="trend" viewBox="0 0 24 24" aria-hidden="true">
      <path id="trend-path" d="M5 12 H19 M14 7 L19 12 L14 17" />
    </svg>
  </div>

  <div id="quality" class="quality">---</div>

  <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
    <button
      id="export"
      class="link btn-export"
    >
      ğŸ“¥ Exporter CSV
    </button>
    <a href="/settings" class="link">âš™ï¸ ParamÃ¨tres</a>
  </div>

  <div style="margin-top: 14px; display: flex; gap: 10px; flex-wrap: wrap; align-items: center;">
    <label style="display: flex; align-items: center; gap: 6px; font-size: 0.9rem; color: var(--muted);">
      <input type="checkbox" id="toggle-smooth" />
      Lisser
    </label>
    <label style="display: flex; align-items: center; gap: 6px; font-size: 0.9rem; color: var(--muted);">
      <input type="checkbox" id="toggle-outliers" />
      Filtrer pics
    </label>
  </div>

  <div
    id="error-message"
    style="
      display: none;
      margin-top: 15px;
      padding: 10px;
      background: rgba(248, 113, 113, 0.15);
      border-radius: 6px;
      color: #f87171;
      font-size: 0.9rem;
    "
  ></div>
</section>

<section class="card">
  <div
    style="
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 10px;
    "
  >
    <h2 style="margin: 0">Historique</h2>
    <button
      id="reset-btn"
      style="
        padding: 8px 12px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 6px;
        color: #9ca3af;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.2s;
      "
      title="RÃ©initialiser le graphique"
    >
      âŸ² RÃ©initialiser
    </button>
  </div>
  <div class="chart-wrapper">
    <canvas id="chart"></canvas>

    <div id="paused-overlay" class="paused-overlay">
      <div class="paused-box">â¸ Analyse en pause</div>
    </div>
  </div>

  <div
    style="
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      font-size: 0.85rem;
      color: #9ca3af;
      flex-wrap: wrap;
      gap: 8px;
    "
  >
    <span id="time-range">Simulation en direct</span>
    <span id="data-points">Points: 0</span>
  </div>
</section>

{% endblock %}
