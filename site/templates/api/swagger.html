<!DOCTYPE html>
<html>
<head>
    <title>Morpheus API Documentation</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@3/swagger-ui.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #0f0f23;
        }
        .topbar {
            background: linear-gradient(135deg, #1e1e3f, #2a2a5a);
            padding: 20px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.3);
        }
        .topbar h1 {
            color: #e5e7eb;
            margin: 0;
            font-size: 1.8rem;
        }
        .topbar p {
            color: #9ca3af;
            margin: 8px 0 0 0;
        }
        .swagger-ui {
            background: #0f0f23 !important;
        }
        .swagger-ui .topbar {
            display: none;
        }
        .swagger-ui .info {
            margin: 20px 0;
        }
        .swagger-ui .info .title {
            color: #e5e7eb;
            font-size: 1.5rem;
        }
        .swagger-ui .info .description {
            color: #9ca3af;
        }
        .swagger-ui .scheme-container {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(102, 126, 234, 0.3);
        }
        .swagger-ui .btn {
            background: #4db8ff;
            border-color: #4db8ff;
            color: white;
        }
        .swagger-ui .btn:hover {
            background: #667eea;
            border-color: #667eea;
        }
        .swagger-ui .model {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(102, 126, 234, 0.2);
        }
        .swagger-ui .opblock {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(102, 126, 234, 0.2);
            margin: 10px 0;
        }
        .swagger-ui .opblock-summary {
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
        }
        .swagger-ui .opblock.opblock-get {
            border-color: rgba(77, 184, 255, 0.3);
        }
        .swagger-ui .opblock.opblock-post {
            border-color: rgba(61, 217, 143, 0.3);
        }
        .swagger-ui .opblock.opblock-put {
            border-color: rgba(249, 115, 22, 0.3);
        }
        .swagger-ui .opblock.opblock-delete {
            border-color: rgba(255, 107, 107, 0.3);
        }
        .swagger-ui .response-control {
            color: #e5e7eb;
        }
        .swagger-ui .loading-container {
            display: none;
        }
    </style>
</head>
<body>
<div class="topbar">
    <h1>ðŸ”Œ Morpheus API Documentation</h1>
    <p>RESTful API for Air Quality Monitoring - v2.0</p>
</div>
<div id="swagger-ui"></div>

<script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@3/swagger-ui-bundle.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@3/swagger-ui-standalone-preset.js"></script>
<script>
window.onload = function() {
    const ui = SwaggerUIBundle({
        url: "/api/v2/docs/openapi.json",
        dom_id: '#swagger-ui',
        presets: [
            SwaggerUIBundle.presets.apis,
            SwaggerUIStandalonePreset
        ],
        layout: "StandaloneLayout",
        requestInterceptor: (request) => {
            // Add authentication token if available
            const token = localStorage.getItem('api_token');
            if (token) {
                request.headers['Authorization'] = `Bearer ${token}`;
            }
            return request;
        }
    })
    window.ui = ui
}
</script>
</body>
</html>
